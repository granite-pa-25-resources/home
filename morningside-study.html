<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morningside Elementary Study</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <button class="nav-toggle" id="navToggle">‚ò∞</button>

    <nav class="nav-sidebar" id="navSidebar">
        <h3>Pages</h3>
        <ul>
            <li><a href="index.html">üè† Home</a></li>
            <li><a href="population-trends.html">üìà Population Trends</a></li>
            <li><a href="mobility-matrices.html">üìä Mobility Matrices</a></li>
            <li><a href="morningside-study.html" style="color: var(--accent-cyan); font-weight: bold;">üéì Morningside Study</a></li>
        </ul>
    </nav>

    <div class="nav-overlay" id="navOverlay"></div>

    <div class="container-fluid">
        <header>
            <h1>üéì Morningside Elementary Program Study</h1>
            <p class="subtitle">Understanding ALC Student Influx at 3rd Grade</p>
        </header>

        <section>
            <h2>Key Finding: ALC Student Influx at 3rd Grade</h2>
            <div class="alert alert-info">
                <p><strong>Critical Insight:</strong> Morningside shows a significant influx of ALC students beginning in 3rd grade. Many students test for ALC eligibility after 2nd grade. Once admitted, families want to remain at Morningside. <strong>Without a traditional program, this would not be possible.</strong></p>
            </div>
        </section>

        <section>
            <h2>Enrollment Distribution by Grade and Program</h2>
            <div class="chart-container">
                <div id="morningsideGradeStackedChart"></div>
                <p class="chart-note"><strong>Interpretation:</strong> Notice the increase in ALC students (green) starting in 3rd grade. This is partially due to second grade ALC testing that determines continued eligibility and new admissions. Some of the enrollment change between 2nd and 3rd grade is explained by this testing, though not entirely.</p>
            </div>
        </section>

        <section>
            <h2>Why This Matters</h2>
            <div class="alert alert-warning">
                <h4>‚ö†Ô∏è Impact of Removing Traditional Program</h4>
                <ul>
                    <li><strong>Reduced Program Flexibility:</strong> Less flexibility in programs offered.</li>
                    <li><strong>Family Displacement:</strong> Families with children in multiple programs would be split</li>
                    <li><strong>ALC Enrollment Drop:</strong> Fewer students could test into ALC from within Morningside</li>
                </ul>
            </div>

            <div class="methodology">
                <p><strong>Total Morningside Enrollment:</strong> 567 students</p>
                <ul>
                    <li>ALC: 148 students (26.1%)</li>
                    <li>DLI: 261 students (46.0%)</li>
                    <li>Traditional: 158 students (27.9%)</li>
                </ul>
                <p style="margin-top: 1rem;">The Traditional program provides essential entry-level access and program flexibility.</p>
            </div>
        </section>
        <p class="mb-0 mt-4 small fst-italic" style="color: var(--text-secondary);">
            ‚ö†Ô∏è This is an independent analysis. Not affiliated with Granite School District.
        </p>
    </div>

    <script src="utils.js"></script>
    <script>
        const grades = ['K (0)', '1st', '2nd', '3rd', '4th', '5th'];
        const alcStudents = [0, 26, 26, 30, 35, 31];      // ALC has NO kindergarten
        const dliStudents = [0, 57, 53, 54, 53, 44];      // DLI has NO kindergarten
        const traditionalStudents = [69, 12, 3, 26, 29, 19];  // Traditional serves ALL kindergartners

        const data = [
            {
                x: grades,
                y: traditionalStudents,
                name: 'Traditional',
                type: 'bar',
                // Higher contrast blue
                marker: { color: 'rgb(37, 99, 235)' }
            },
            {
                x: grades,
                y: dliStudents,
                name: 'DLI',
                type: 'bar',
                // Higher contrast purple
                marker: { color: 'rgb(168, 85, 247)' }
            },
            {
                x: grades,
                y: alcStudents,
                name: 'ALC',
                type: 'bar',
                // Higher contrast green
                marker: { color: 'rgb(16, 185, 129)' }
            }
        ];

        const layout = {
            title: {
                text: 'Morningside: Enrollment by Grade and Program',
                font: { size: 18, color: '#e8eaed' }
            },
            barmode: 'stack',
            xaxis: { title: 'Grade Level', color: '#e8eaed' },
            yaxis: { title: 'Number of Students', color: '#e8eaed' },
            paper_bgcolor: '#1a1a1a',
            plot_bgcolor: '#242424',
            font: { color: '#e8eaed' },
            legend: { orientation: 'h', y: -0.2 },
            annotations: [{
                x: '3rd',
                y: 100,
                text: '‚Üê ALC Influx Point',
                showarrow: true,
                arrowhead: 2,
                arrowcolor: '#fbbf24',
                ax: 60,
                ay: -60,
                font: { size: 12, color: '#fbbf24' },
                bgcolor: '#2d2d2d',
                bordercolor: '#fbbf24',
                borderwidth: 2
            }]
        };

        Plotly.newPlot('morningsideGradeStackedChart', data, layout, { responsive: true });
    </script>
</body>
</html>
